<!--	Customer Service Helper making 
		@author Hyowon Choi
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bootstrap 101 Template</title>

    <!-- Bootstrap -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
	<div class="dialog">
		<div class="dialog-header">
			<h6 class="dialog-header-text">관리자에게 문의하기</h6>
			<a class="btn-dialog-close" href="#">X</a>
		</div>
		<div class="dialog-body">
			<form>
			  <div class="form-group">
				<input type="text" class="form-control" id="form-name" placeholder="이름">
			  </div>
			  <div class="form-group">
				<input type="email" class="form-control" id="form-email" placeholder="E-mail">
			  </div>
			  <div class="form-group">
				  <textarea class="form-control" id="form-email" rows="6" placeholder="문의 사항이나 제품에 대한 피드백을 써주세요."></textarea>
			  </div>
			</form>
			<label class="fileContainer">
			 	<div class="file-contents"><img src = "dist/img/attachment_ic.png">&nbsp;&nbsp;파일을 추가하거나 여기에 드롭</div>
				<input type="file" class="select-file" id="files" name="files[]" multiple />
			</label>
			<div id="file-list"></div>
			
<!--
			<script>
			  function handleFileSelect(evt) {
				var files = evt.target.files; // FileList object
				var fileList = [];
				// files is a FileList of File objects. List some properties.
				var output = [];
				for (var i = 0, f; f = files[i]; i++) {
				  output.push('<li><strong>', f.name, '</strong> - ',
							  f.size, ' 바이트',
							  '</li>');
				}
				document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
			  }
				
			  document.getElementById('files').addEventListener('change', handleFileSelect, false);
			</script>
-->
			<script>			
				var fileArray = [];
				function handleFileSelect(evt) {	
					console.log(evt.target.files);
					var files = evt.target.files;
					for (var i = 0, f; f = files[i]; i++) {
						fileArray.push(f);
					}
					console.log(fileArray);		
					renderFiles();
				}
				
				function renderFiles() {
					if (fileArray.length == 0) {
						$("#file-list").css({
							"display" : "none"
						});
						return;
					}
					
					$("#file-list").html(fileArray.map(function(f, i) {
						return '<div class="file-content-wrapper"><span class="file-name">' + f.name + '</span>' + ' <div class="btn-delete-wrapper"><button type="button" class="btn-warning btn-delete-file" onclick="deleteFiles(' + i + ')">삭제</button></div></div>'
					}).join(""));
					
					$("#file-list").css({
						"display" : "block"
					});
					
				}
				
				function deleteFiles(index) {
					fileArray.splice(index, 1);
					renderFiles();
				}
				
				document.getElementById('files').addEventListener('change', handleFileSelect, false);
			</script>
			<div class="approval-personal-info"><span class="star">★</span> 문의 접수는 개인정보 (이메일) 취급에 동의하는 것으로 간주합니다.</div>
			<div class="btn-wrapper">
				<button class="btn-sending">보내기</button>
			</div>
		</div>
	</div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="dist/js/bootstrap.min.js"></script>
  </body>
</html>